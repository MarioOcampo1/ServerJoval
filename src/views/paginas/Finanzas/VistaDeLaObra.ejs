<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

  <title>Finanzas:Vista de la obra</title>
</head>

<body>
  <%- include('./partials/menusuperior.ejs'); %>
    <div class="VistaObra">
      <div class="Encabezado mt-2 ms-1">
        <button class="btn btn-sm btn-danger bi bi-arrow-bar-left" onclick="history.go(-1)"
          title="Ir a pagína anterior"></button>
        <a href="/Finanzas/NuevoCliente/<%=NombreObra%>"><button
            class="btn btn-sm btn-success">NuevoCliente</button></a>
        <button type="button" class="btn btn-success btn-sm" data-bs-toggle="modal"
          data-bs-target="#modalClientesPorLote">
          Nuevo cliente | Carga por lote
        </button>
        <button class="btn btn-sm btn-primary" onclick="ExportarAExcel();" disabled>Exportar planilla</button>
        <button id="btnVerConfigObra" class="btn btn-sm btn-primary bi bi-gear" data-bs-toggle="modal"
          data-bs-target="#ModalConfiguracion">
          Configurar obra</button>
        <h1 class="text-center">
         
        </h1>
      </div>

      <div class="container ">
        <p class="text-center">En caso de no encontrar el vecino, debera de cargarlo en el sistema.</p>
      </div>

      <div class="container VistaClientes m-2">
        <label for="BuscadorCliente">Buscar cliente</label>
        <input class="border border-danger" type="text" name="BuscadorCliente" id="BuscadorCliente">
<div class="btn-group" role="group" aria-label="OpcionesTabla">
  <button type="button" id="btnVerCuotas" class="btn btn-primary">Cuotas adicionales</button>
  <button type="button" id="btnVerPermisos" class="btn btn-primary">Permisos</button>
</div>
        <div class="btn-toolbar m-2 border border-secondary rounded">
          <label class="list-group-item" for="">Colores de referencia: </label>
          <ul class="list-group list-group-horizontal">
            <li class="list-group-item text-muted">Monto a pagar </li>
            <li class="list-group-item bg-danger">Pago inferior al esperado</li>
            <li class="list-group-item bg-warning">Pago superior al esperado</li>
            <li class="list-group-item bg-success">Pagado</li>
          </ul>
        </div>
      </div>

      <table id="TablaObras" class="table table-bordered table-inverse table-responsive text-center"
       >
        <thead class="thead-default sticky-top">
          <!-- <tr>
<th class="" >Cliente</th>
<th class="">Domicilio</th>
<th class="">DNI</th>
<th class="" id="thDomiciliario"> Serv. Domiciliario</th>
<th class="" id="thAnticipo"> A. financiero </th>
<th class="" id="thCuota1"> Cuota 1 </th>
<th class="" id="thCuota2"> Cuota 2 </th>
<th class="" id="thCuota3"> Cuota 3 </th>
<th class="" id="thCuota4"> Cuota 4 </th>
<th class="" id="thCuota5"> Cuota 5 </th>
<th class="" id="thCuota6"> Cuota 6 </th>
<th class="OcultoCuotas cuotasAdicionales" id="thCuota7" >Cuota 7 </th>
<th class="OcultoCuotas cuotasAdicionales" id="thCuota8" >Cuota 8</th>
<th class="OcultoCuotas cuotasAdicionales" id="thCuota9" >Cuota 9 </th>
<th class="OcultoCuotas cuotasAdicionales" id="thCuota10"> Cuota 10</th>
<th class="OcultoCuotas cuotasAdicionales" id="thCuota11"> Cuota 11</th>
<th class="OcultoCuotas cuotasAdicionales" id="thCuota12"> Cuota 12</th>
<th class="OcultoPermisos " id="thDNV"> Permiso DNV</th>
<th class="OcultoPermisos " id="thDPV"> Permiso DPV</th>
<th class="OcultoPermisos " id="thHidraulica"> Permiso Hidraulica</th>
<th class="OcultoPermisos " id="thFFCC"> Permiso FFCC</th>
<th class="OcultoPermisos " id="thPrivado"> Permiso Privado</th>
<th class="OcultoPermisos " id="thMunicipal"> Permiso Municipal</th>
<th class="OcultoPermisos " id="thIngresoDoc"> gastos asociados aforos</th>
<th class="OcultoPermisos " id="thIrrigacion"> Permiso Irrigación</th>
</tr> -->
        </thead>
        <tbody>
       
        </tbody>
      </table>
    </div>
      <%- include('./partials/modalClientesPorLote')%>
        <%- include('./partials/ConfigObra.ejs') %>
          <%- include('./partials/PagoCliente.ejs') %>
          <form action="/EditarCliente/ActualizarValoresPredeterminados" method="post">

            <div class="modal fade" id="modalEditarVecino" tabindex="-1" role="dialog" aria-labelledby="modalTitleId"
              aria-hidden="true">
              <div class="modal-dialog modal-dialog-scrollable modal-dialog-centered modal-xl" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="modalTitleId">Editar monto a pagar</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                  </div>
                  <div class="modal-body">
                    <div id="EdicionVecino" class="container">
                      <input type="number" name="IDCliente" id="IDCliente" hidden>
                      <div class="row">
                        <h5>Anticipo y cuotas</h5>
                        <div class="input-group input-group-sm">
                          <span class="input-group-text" id="inputGroup-sizing-sm">Anticipo
                            financiero</span>
                          <input type="text" class="form-control" aria-label="Sizing example input"
                            name="AnticipoFinanciero" id="2AnticipoFinanciero"
                            aria-describedby="inputGroup-sizing-sm">
                          <span class="input-group-text" id="inputGroup-sizing-sm">Servicio
                            domiciliario</span>
                          <input type="text" class="form-control" aria-label="Sizing example input"
                            name="ServicioDomiciliario" id="2ServicioDomiciliario"
                            aria-describedby="inputGroup-sizing-sm">
                        </div>
                        <div class="input-group input-group-sm">
                          <span class="input-group-text" id="inputGroup-sizing-sm">Cuota 1</span>
                          <input type="text" class="form-control" aria-label="Sizing example input" name="Cuota1"
                            id="2Cuota1" aria-describedby="inputGroup-sizing-sm">
                          <span class="input-group-text" id="inputGroup-sizing-sm">Cuota 2</span>
                          <input type="text" class="form-control" aria-label="Sizing example input" name="Cuota2"
                            id="2Cuota2" aria-describedby="inputGroup-sizing-sm">
                        </div>

                        <div class="input-group input-group-sm">
                          <span class="input-group-text" id="inputGroup-sizing-sm">Cuota 3</span>
                          <input type="text" class="form-control" aria-label="Sizing example input" name="Cuota3"
                            id="2Cuota3" aria-describedby="inputGroup-sizing-sm">


                          <span class="input-group-text" id="inputGroup-sizing-sm">Cuota 4</span>
                          <input type="text" class="form-control" aria-label="Sizing example input" name="Cuota4"
                            id="2Cuota4" aria-describedby="inputGroup-sizing-sm">
                        </div>
                        <div class="input-group input-group-sm">
                          <span class="input-group-text" id="inputGroup-sizing-sm">Cuota 5</span>
                          <input type="text" class="form-control" aria-label="Sizing example input" name="Cuota5"
                            id="2Cuota5" aria-describedby="inputGroup-sizing-sm">

                          <span class="input-group-text" id="inputGroup-sizing-sm">Cuota 6</span>
                          <input type="text" class="form-control" aria-label="Sizing example input" name="Cuota6"
                            id="2Cuota6" aria-describedby="inputGroup-sizing-sm">
                        </div>
                        <div class="input-group input-group-sm">
                          <span class="input-group-text" id="inputGroup-sizing-sm">Cuota 7</span>
                          <input type="text" class="form-control" aria-label="Sizing example input" name="Cuota7"
                            id="2Cuota7" aria-describedby="inputGroup-sizing-sm">

                          <span class="input-group-text" id="inputGroup-sizing-sm">Cuota 8</span>
                          <input type="text" class="form-control" aria-label="Sizing example input" name="Cuota8"
                            id="2Cuota8" aria-describedby="inputGroup-sizing-sm">
                        </div>
                        <div class="input-group input-group-sm">
                          <span class="input-group-text" id="inputGroup-sizing-sm">Cuota 9</span>
                          <input type="text" class="form-control" aria-label="Sizing example input" name="Cuota9"
                            id="2Cuota9" aria-describedby="inputGroup-sizing-sm">

                          <span class="input-group-text" id="inputGroup-sizing-sm">Cuota 10</span>
                          <input type="text" class="form-control" aria-label="Sizing example input" name="Cuota10"
                            id="2Cuota10" aria-describedby="inputGroup-sizing-sm">
                        </div>
                        <div class="input-group input-group-sm mb-3">
                          <span class="input-group-text" id="inputGroup-sizing-sm">Cuota 11</span>
                          <input type="text" class="form-control" aria-label="Sizing example input" name="Cuota11"
                            id="2Cuota11" aria-describedby="inputGroup-sizing-sm">

                          <span class="input-group-text" id="inputGroup-sizing-sm">Cuota 12</span>
                          <input type="text" class="form-control" aria-label="Sizing example input" name="Cuota12"
                            id="2Cuota12" aria-describedby="inputGroup-sizing-sm">
                        </div>

                        <h5>Permisos</h5>

                        <div class="input-group input-group-sm mb-1">
                          <span class="input-group-text" id="inputGroup-sizing-sm">DNV</span>
                          <input type="text" class="form-control" aria-label="Sizing example input" name="DNV"
                            id="2DNV" aria-describedby="inputGroup-sizing-sm">
                        </div>


                        <div class="input-group input-group-sm mb-1">
                          <span class="input-group-text" id="inputGroup-sizing-sm">DPV</span>
                          <input type="text" class="form-control" aria-label="Sizing example input" name="DPV"
                            id="2DPV" aria-describedby="inputGroup-sizing-sm">
                        </div>


                        <div class="input-group input-group-sm mb-1">
                          <span class="input-group-text" id="inputGroup-sizing-sm">Hidraulica</span>
                          <input type="text" class="form-control" aria-label="Sizing example input" name="Hidraulica"
                            id="2Hidraulica" aria-describedby="inputGroup-sizing-sm">
                        </div>


                        <div class="input-group input-group-sm mb-1">
                          <span class="input-group-text" id="inputGroup-sizing-sm">FFCC</span>
                          <input type="text" class="form-control" aria-label="Sizing example input" name="FFCC"
                            id="2FFCC" aria-describedby="inputGroup-sizing-sm">
                        </div>


                        <div class="input-group input-group-sm mb-1">
                          <span class="input-group-text" id="inputGroup-sizing-sm">Privado</span>
                          <input type="text" class="form-control" aria-label="Sizing example input" name="Privado"
                            id="2Privado" aria-describedby="inputGroup-sizing-sm">
                        </div>


                        <div class="input-group input-group-sm mb-1">
                          <span class="input-group-text" id="inputGroup-sizing-sm">Municipal</span>
                          <input type="text" class="form-control" aria-label="Sizing example input" name="Municipal"
                            id="2Municipal" aria-describedby="inputGroup-sizing-sm">
                        </div>
                        <div class="input-group input-group-sm mb-1">
                          <span class="input-group-text" id="inputGroup-sizing-sm">Irrigacion</span>
                          <input type="text" class="form-control" aria-label="Sizing example input" name="Irrigacion"
                            id="2Irrigacion" aria-describedby="inputGroup-sizing-sm">
                        </div>

                      </div>
                    </div>
                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                    <button type="submit" class="btn btn-primary">Guardar</button>
                  </div>
                </div>
              </div>
            </div>
          </form>
       
</body>
<script>

  setTimeout(() => {
         // Ocultar el contenido del popup inicialmente
         $('.popup-content').css('display', 'none');

// Mostrar el popup al hacer clic en el elemento con la clase "popup-trigger"
$('.popup-trigger').hover(function() {
    // Ocultar todos los demás popups antes de mostrar este
    $('.popup-content').css('display', 'none');
    // Mostrar el contenido del popup correspondiente
    $(this).next('.popup-content').toggle();
    setTimeout(() => {
      $(this).next('.popup-content').hide();
    }, 2000);
});
  }, 1000);
  function EnviarFormulario() {
    $('#formActualizarPago').submit();
  }
  $('#TipoCobro').click(function () {
    $('#FormTipoCobro').submit();
  })
  jQuery("#BuscadorCliente").keyup(function () {
    if (jQuery(this).val() != "0") {
      jQuery("#TablaObras tbody>tr").hide();
      jQuery("#TablaObras td:contiene-palabra('" + jQuery(this).val() + "')").parent("tr").show();
    }
    ("#TablaObras tbody>tr").show();
  })

  jQuery.extend(jQuery.expr[":"], {
    "contiene-palabra": function (elem, i, match, array) {
      return (elem.textContent || elem.innerText || jQuery(elem).text() || "").toLowerCase().indexOf((match[3] || "").toLowerCase()) >= 0;
    }
  });

  function danger() {
    $("#TablaObras").table2excel({
      name: "file.xlsx"
    });
  }
  var MontosaPagar;
var ImporteOriginalAPagar=0;
  $('#Concepto').change(function () {
    $('CotizacionUSD').val('0');
    var idcliente = $('#IDCliente').val();
    $.ajax({
      url: '/BuscarDatosClienteQuePaga/' + idcliente,
    }).done(function (respuestaServidor) {
      console.log(respuestaServidor);
      var montoAPagarPredeterminado = respuestaServidor.montosCuota;
      $("#Concepto option:selected").each(function () {
        $('.calculoUSD').css('display','block'); //Este calculo en dolares, se encuentra dentro de la vista de pago del cliente.
        $('#cotizacionInicial').empty();
        $('#cotizacionInicial').append('Cotización al momento de contratación: 1USD = $'+respuestaServidor.montosCuota[0].CotizacionUSD);
        $('#cotizacionInicial').val(respuestaServidor.montosCuota[0].CotizacionUSD);
        
        var ConceptoSeleccionado = $(this).attr('value');
        montoAPagarPredeterminado.forEach(element => {
          JSON.parse(JSON.stringify(element), (key, value) => {
            if (ConceptoSeleccionado == key) {
              $('#ImporteIngresado').val(value);
              ImporteOriginalAPagar=value;
            };
          });
        })
        $('#divImporte2').css('display', 'block');
      })
    })
  })

  function editarVecino() {
    var idCliente = $('#IDCliente').val();
    const url = '/Finanzas/CobroDeObras/EditarCliente/ObtenerDatosCliente/' + idCliente;
    $.ajax({
      url: url,
    }).done(function (datos) {
      $('#2AnticipoFinanciero').val(datos[0].AnticipoFinanciero);
      $('#2ServicioDomiciliario').val(datos[0].ServicioDomiciliario);
      $('#2Cuota1').val(datos[0].Cuota1);
      $('#2Cuota2').val(datos[0].Cuota2);
      $('#2Cuota3').val(datos[0].Cuota3);
      $('#2Cuota4').val(datos[0].Cuota4);
      $('#2Cuota5').val(datos[0].Cuota5);
      $('#2Cuota6').val(datos[0].Cuota6);
      $('#2Cuota7').val(datos[0].Cuota7);
      $('#2Cuota8').val(datos[0].Cuota8);
      $('#2Cuota9').val(datos[0].Cuota9);
      $('#2Cuota10').val(datos[0].Cuota10);
      $('#2Cuota11').val(datos[0].Cuota11);
      $('#2Cuota12').val(datos[0].Cuota12);
      $('#2DNV').val(datos[0].DNV);
      $('#2DPV').val(datos[0].DPV);
      $('#2Hidraulica').val(datos[0].Hidraulica);
      $('#2FFCC').val(datos[0].FFCC);
      $('#2Privado').val(datos[0].Privado);
      $('#2Municipal').val(datos[0].Municipal);
      $('#2Irrigacion').val(datos[0].Irrigacion);
    })
    $('#modalEditarVecino').modal('show');
  }
  $('#btnVerConfigObra').click(function () {
    $.ajax({
      type: "GET",
      url: "/Finanzas/cobrodeobras/VerObra/<%=id_Obra%>/data",
      dataType: "json",
      success: function (response) {
$('#ConfigAnticipoFinanciero').val(response.PredeterminadosyCobros[0].PredeterminadoAnticipoFinanciero);
$('#ConfigCuota1').val(response.PredeterminadosyCobros[0].PredeterminadoCuota1);
$('#ConfigCuota2').val(response.PredeterminadosyCobros[0].PredeterminadoCuota2);
$('#ConfigCuota3').val(response.PredeterminadosyCobros[0].PredeterminadoCuota3);
$('#ConfigCuota4').val(response.PredeterminadosyCobros[0].PredeterminadoCuota4);
$('#ConfigCuota5').val(response.PredeterminadosyCobros[0].PredeterminadoCuota5);
$('#ConfigCuota6').val(response.PredeterminadosyCobros[0].PredeterminadoCuota6);
if(response.PredeterminadosyCobros[0].CantidadCuotas>6){
  $('#ConfigCuota7').val(response.PredeterminadosyCobros[0].PredeterminadoCuota7);
$('#ConfigCuota8').val(response.PredeterminadosyCobros[0].PredeterminadoCuota8);
$('#ConfigCuota9').val(response.PredeterminadosyCobros[0].PredeterminadoCuota9);
$('#ConfigCuota10').val(response.PredeterminadosyCobros[0].PredeterminadoCuota10);
$('#ConfigCuota11').val(response.PredeterminadosyCobros[0].PredeterminadoCuota11);
$('#ConfigCuota12').val(response.PredeterminadosyCobros[0].PredeterminadoCuota12);
}$('#ConfigDNV').val(response.PredeterminadosyCobros[0].PredeterminadoDNV);
$('#ConfigDPV').val(response.PredeterminadosyCobros[0].PredeterminadoDPV);
$('#ConfigHidraulica').val(response.PredeterminadosyCobros[0].PredeterminadoHidraulica);
$('#ConfigFFCC').val(response.PredeterminadosyCobros[0].PredeterminadoFFCC);
$('#ConfigPrivado').val(response.PredeterminadosyCobros[0].PredeterminadoPrivado);
$('#ConfigMunicipal').val(response.PredeterminadosyCobros[0].PredeterminadoMunicipal);
$('#ConfigServicioDomiciliario').val(response.PredeterminadosyCobros[0].PredeterminadoServicioDomiciliario);
}
    });
   
  })
$(document).ready(function(){
  $('#TablaObras').DataTable({
    "scrollX": true,
        "paging": false,
        "info": false,
        "searching": false,
        
        "ajax": {
            "url": "/Finanzas/cobrodeobras/VerObra/<%=id_Obra%>/data", 
            "dataType": "json",
            "dataSrc": function (data) {
              return data.PredeterminadosyCobros;
              
            }
        },
        "columnDefs": [
        {
"targets": [11,12,13,14,15,16],
"className": "OcultoCuotas",
        },  
        {
"targets": [17,18,19,20,21,22,23,24],
"className": "OcultoPermisos",
        },
  // {
  //   "targets": "_all",
  //   "sortable": false,
  //  },
  {
    "'createdCell'": function (td, cellData, rowData, row, col) {
      $(td).addClass('bg-secondary fw-bold text-light');
    },
    "targets": [0, 1, 2], // Aquí especificas las columnas a las que se aplicará la configuración adicional
    // Agrega cualquier configuración adicional específica para estas columnas aquí
  }
],
        "columns": [

            { title: 'Cliente',"data": "NombreCliente", "render":function(data,type,row,meta){
              return '<button class="btn text-nowrap max-vh-25" onclick="CargarPago(\''+row.ID_cliente+'\',\''+row.NombreCliente+'\');">'+row.NombreCliente+'</button>'
            }},
            {title: 'Domicilio', "data": "Direccion","render":function(data,type,row,meta){
             
                return data;
              
            }},
            {title: 'DNI', "data": "DNICliente","render":function(data,type,row,meta){
             
                return data;
              
            }},
            {title: 'Serv.Domiciliario', "data": "ServicioDomiciliario" ,"render": function(data,type,row,meta){
              if(row.ServicioDomiciliario==0 || row.ServicioDomiciliario=="0"){
                if(row.PredeterminadoServicioDomiciliario==0){
                  return null;
                }else{
                return '<span class=" text-muted">$'+row.PredeterminadoServicioDomiciliario+'</span>';
              }
              }
              else{
                if(row.ServicioDomiciliario==row.PredeterminadoServicioDomiciliario){
                  return '<div class="tdServicioDomiciliario bg-success"><span class="popup-trigger ">PAGADO</span>' + 
               '<div class="popup-content text-secondary">Monto pagado:$' + row.ServicioDomiciliario +'</div> </div>';
                }
                if(row.ServicioDomiciliario<row.PredeterminadoServicioDomiciliario){
                return '<div class="tdServicioDomiciliario"><span class="popup-trigger bg-danger">$' + data + '</span>' + 
               '<div class="popup-content text-secondary">Valor a pagar:$' + row.PredeterminadoServicioDomiciliario + ', resta por pagar:$'+(row.PredeterminadoServicioDomiciliario-data)+' </div> </div>';
              } if(row.ServicioDomiciliario>row.PredeterminadoServicioDomiciliario){
                return '<div class="tdServicioDomiciliario"><span class="popup-trigger bg-warning">$' + data + '</span>' + 
               '<div class="popup-content text-secondary">Valor a pagar:$' + row.PredeterminadoServicioDomiciliario + ', ha pagado por demas:$'+(data-row.PredeterminadoServicioDomiciliario)+' </div> </div>'; 
              }
              }
            } },
            {title: 'A.Financiero', "data": "AnticipoFinanciero","render":function(data,type,row,meta){
              if(row.AnticipoFinanciero==0 || row.AnticipoFinanciero=="0"){
                if(row.PredeterminadoAnticipoFinanciero==0){
                  return null;
                }else{
                  return '<span class=" text-muted">$'+row.PredeterminadoAnticipoFinanciero+'</span>';
                }
              }else{
                if(row.AnticipoFinanciero==row.PredeterminadoAnticipoFinanciero){
                  return '<div class="tdAnticipoFinanciero bg-success" ><span class="popup-trigger">PAGADO</span>' + 
               '<div class="popup-content text-secondary">Monto pagado:$' + row.AnticipoFinanciero +'</div> </div>';
                }
                if(row.AnticipoFinanciero<row.PredeterminadoAnticipoFinanciero){
                return '<div class="tdAnticipoFinanciero"><span class="popup-trigger bg-danger">$' + data + '</span>' + 
               '<div class="popup-content text-secondary">Valor a pagar:$' + row.PredeterminadoAnticipoFinanciero + ', resta por pagar:$'+(row.PredeterminadoAnticipoFinanciero-data)+' </div> </div>';
              } if(row.AnticipoFinanciero>row.PredeterminadoAnticipoFinanciero){
                return '<div class="tdAnticipoFinanciero"><span class="popup-trigger bg-warning">$' + data + '</span>' + 
               '<div class="popup-content text-secondary">Valor a pagar:$' + row.PredeterminadoAnticipoFinanciero + ', ha pagado por demas:$'+(data-row.PredeterminadoAnticipoFinanciero)+' </div> </div>'; 
              }
            }
            }},
            {title: 'Cuota 1', "data": "Cuota1","render":function(data,type,row,meta){
              if(row.Cuota1==0 || row.Cuota1=="0"){
                if(row.PredeterminadoCuota1==0){
                  return '<span class=" text-muted">$'+row.PredeterminadoCuota1+'</span>';
                }else{
                  return '<span class=" text-muted">$'+row.PredeterminadoCuota1+'</span>';
                }

              }else{
                if(row.Cuota1==row.PredeterminadoCuota1){
                  return '<div class="tdCuota1 bg-success"><span class=" popup-trigger ">PAGADO</span>' + 
               '<div class="popup-content text-secondary">Valor a pagar:$' + row.Cuota1 +'</div> </div>';
                }
                if(row.Cuota1<row.PredeterminadoCuota1){
                return '<div class="tdCuota1"><span class="popup-trigger bg-danger">$' + data + '</span>' + 
               '<div class="popup-content text-secondary">Valor a pagar:$' + row.PredeterminadoCuota1 + ', resta por pagar:$'+(row.PredeterminadoCuota1-data)+' </div> </div>';
              } if(row.Cuota1>row.PredeterminadoCuota1){
                return '<div class="tdCuota1"><span class="popup-trigger bg-warning">$' + data + '</span>' + 
               '<div class="popup-content text-secondary">Valor a pagar:$' + row.PredeterminadoCuota1 + ', ha pagado por demas:$'+(data-row.PredeterminadoCuota1)+' </div> </div>'; 
              }
              }
            } },
            {title: 'Cuota 2 ', "data": "Cuota2","render":function(data,type,row,meta){
              if(row.Cuota2==0 || row.Cuota2=="0"){
                if(row.PredeterminadoCuota2==0){
                  return '<span class=" text-muted">$'+row.PredeterminadoCuota2+'</span>';
                }else{
                  return '<span class=" text-muted">$'+row.PredeterminadoCuota2+'</span>';
                }

              }else{
                if(row.Cuota2==row.PredeterminadoCuota2){
                  return '<div class="tdCuota2 bg-success"><span class="popup-trigger ">PAGADO</span>' + 
               '<div class="popup-content text-secondary">Monto pagado:$' + row.Cuota2 +'</div> </div>';
                }
                if(row.Cuota2<row.PredeterminadoCuota2){
                return '<div class="tdCuota2"><span class="popup-trigger bg-danger">$' + data + '</span>' + 
               '<div class="popup-content text-secondary">Valor a pagar:$' + row.PredeterminadoCuota2 + ', resta por pagar:$'+(row.PredeterminadoCuota2-data)+' </div> </div>';
              } if(row.Cuota2>row.PredeterminadoCuota2){
                return '<div class="tdCuota2"><span class="popup-trigger bg-warning">$' + data + '</span>' + 
               '<div class="popup-content text-secondary">Valor a pagar:$' + row.PredeterminadoCuota2 + ', ha pagado por demas:$'+(data-row.PredeterminadoCuota2)+' </div> </div>'; 
              }
              }
            } },
            {title: 'Cuota 3 ', "data": "Cuota3","render":function(data,type,row,meta){
              if(row.Cuota3==0 || row.Cuota3=="0"){
                if(row.PredeterminadoCuota3==0){
                  return '<span class=" text-muted">$'+row.PredeterminadoCuota3+'</span>';
                }else{
                  return '<span class=" text-muted">$'+row.PredeterminadoCuota3+'</span>';
                }
                return '<span class=" text-muted">$'+row.PredeterminadoCuota3+'</span>';

              }else{
                if(row.Cuota3==row.PredeterminadoCuota3){
                  return '<div class="tdCuota3 bg-success"><span class=" popup-trigger ">PAGADO</span>' + 
               '<div class="popup-content text-secondary">Monto pagado:$' + row.Cuota3 +'</div> </div>';
                }
                if(row.Cuota3<row.PredeterminadoCuota3){
                return '<div class="tdCuota3"><span class="popup-trigger bg-danger">$' + data + '</span>' + 
               '<div class="popup-content text-secondary">Valor a pagar:$' + row.PredeterminadoCuota3 + ', resta por pagar:$'+(row.PredeterminadoCuota3-data)+' </div> </div>';
              } if(row.Cuota3>row.PredeterminadoCuota3){
                return '<div class="tdCuota3"><span class="popup-trigger bg-warning">$' + data + '</span>' + 
               '<div class="popup-content text-secondary">Valor a pagar:$' + row.PredeterminadoCuota3 + ', ha pagado por demas:$'+(data-row.PredeterminadoCuota3)+' </div> </div>'; 
              }
              }
            } },
            {title: 'Cuota 4 ', "data": "Cuota4","render":function(data,type,row,meta){
              if(row.Cuota4==0 || row.Cuota4=="0"){
                if(row.PredeterminadoCuota4==0){
                  return '<span class=" text-muted">$'+row.PredeterminadoCuota4+'</span>';
                }else{
                  return '<span class=" text-muted">$'+row.PredeterminadoCuota4+'</span>';
                }
                
}else{
                if(row.Cuota4==row.PredeterminadoCuota4){
                  return '<div class="tdCuota4 bg-success"><span class=" popup-trigger ">PAGADO</span>' + 
               '<div class="popup-content text-secondary">Monto pagado:$' + row.Cuota4 +'</div> </div>';
                }
                if(row.Cuota4<row.PredeterminadoCuota4){
                return '<div class="tdCuota4"><span class="popup-trigger bg-danger">$' + data + '</span>' + 
               '<div class="popup-content text-secondary">Valor a pagar:$' + row.PredeterminadoCuota4 + ', resta por pagar:$'+(row.PredeterminadoCuota4-data)+' </div> </div>';
              } if(row.Cuota4>row.PredeterminadoCuota4){
                return '<div class="tdCuota4"><span class="popup-trigger bg-warning">$' + data + '</span>' + 
               '<div class="popup-content text-secondary">Valor a pagar:$' + row.PredeterminadoCuota4 + ', ha pagado por demas:$'+(data-row.PredeterminadoCuota4)+' </div> </div>'; 
              }
              }
            } },
            {title: 'Cuota 5 ', "data": "Cuota5","render":function(data,type,row,meta){
              if(row.Cuota5==0 || row.Cuota5=="0"){
                if(row.PredeterminadoCuota5==0){
                  return '<span class=" text-muted">$'+row.PredeterminadoCuota5+'</span>';
                }else{
                  return '<span class=" text-muted">$'+row.PredeterminadoCuota5+'</span>';
                }

              }else{
                if(row.Cuota5==row.PredeterminadoCuota5){
                  return '<div class="tdCuota5 bg-success"><span class=" popup-trigger ">PAGADO</span>' + 
               '<div class="popup-content text-secondary">Monto pagado:$' + row.Cuota5 +'</div> </div>';
                }
                if(row.Cuota5<row.PredeterminadoCuota5){
                return '<div class="tdCuota5"><span class="popup-trigger bg-danger">$' + data + '</span>' + 
               '<div class="popup-content text-secondary">Valor a pagar:$' + row.PredeterminadoCuota5 + ', resta por pagar:$'+(row.PredeterminadoCuota5-data)+' </div> </div>';
              } if(row.Cuota5>row.PredeterminadoCuota5){
                return '<div class="tdCuota5"><span class="popup-trigger bg-warning">$' + data + '</span>' + 
               '<div class="popup-content text-secondary">Valor a pagar:$' + row.PredeterminadoCuota5 + ', ha pagado por demas:$'+(data-row.PredeterminadoCuota5)+' </div> </div>'; 
              }
              }
            } },
            {title:  '<span class="">Cuota 6 </span>', "data": "Cuota6","render":function(data,type,row,meta){
              if(row.Cuota6==0 || row.Cuota6=="0"){
                if(row.PredeterminadoCuota6==0){
                  return '<span class=" text-muted">$'+row.PredeterminadoCuota6+'</span>';
                }else{
                  return '<span class=" text-muted">$'+row.PredeterminadoCuota6+'</span>';
                }
              }else{
                if(row.Cuota6==row.PredeterminadoCuota6){
                  return '<div class="tdCuota6 bg-success"><span class=" popup-trigger ">PAGADO</span>' + 
               '<div class="popup-content text-secondary">Monto pagado:$' + row.Cuota6 +'</div> </div>';
                }
                if(row.Cuota6<row.PredeterminadoCuota6){
                return '<div class="tdCuota6"><span class="popup-trigger bg-danger">$' + data + '</span>' + 
               '<div class="popup-content text-secondary">Valor a pagar:$' + row.PredeterminadoCuota6 + ', resta por pagar:$'+(row.PredeterminadoCuota6-data)+' </div> </div>';
              } if(row.Cuota6>row.PredeterminadoCuota6){
                return '<div class="tdCuota6"><span class="popup-trigger bg-warning">$' + data + '</span>' + 
               '<div class="popup-content text-secondary">Valor a pagar:$' + row.PredeterminadoCuota6 + ', ha pagado por demas:$'+(data-row.PredeterminadoCuota6)+' </div> </div>'; 
              }
              }
            }
          },
            { title:  '<span class="OcultoCuotas">Cuota 7 </span>',"data": "Cuota7" ,"render":function(data,type,row,meta){
              if(row.CantidadCuotas>6){
                if(row.Cuota7==row.PredeterminadoCuota7){
                  return '<div class="tdCuota7 bg-success"><span class=" popup-trigger ">PAGADO</span>' + 
               '<div class="popup-content text-secondary">Monto pagado:$' + row.Cuota7 +'</div> </div>';
                }
                if(row.Cuota7<row.PredeterminadoCuota7){
                return '<div class="tdCuota7"><span class="popup-trigger bg-danger">$' + data + '</span>' + 
               '<div class="popup-content text-secondary">Valor a pagar:$' + row.PredeterminadoCuota7 + ', resta por pagar:$'+(row.PredeterminadoCuota7-data)+' </div> </div>';
              } if(row.Cuota7>row.PredeterminadoCuota7){
                return '<div class="tdCuota7"><span class="popup-trigger bg-warning">$' + data + '</span>' + 
               '<div class="popup-content text-secondary">Valor a pagar:$' + row.PredeterminadoCuota7 + ', ha pagado por demas:$'+(data-row.PredeterminadoCuota7)+' </div> </div>'; 
              }
              }else{
                  return '<span class="OcultoCuotas text-muted">$'+row.PredeterminadoCuota7+'</span>';              
              }
            }, 
             'createdCell': function (td, cellData, rowData, row, col) {
            // Agregar una clase personalizada a la celda
            $(td).addClass('OcultoCuotas');
           
        }, "initComplete": function(settings, json) {
        // Seleccionar el encabezado de la columna correspondiente al título
        var th = $('#TablaObras').find('th:contains("Permiso Hidraulica")');
             th.addClass('OcultoCuotas');
    },
          },
            {title:  '<span class="OcultoCuotas">Cuota 8</span>', "data": "Cuota8" ,"render":function(data,type,row,meta){
              if(row.CantidadCuotas>7){
                if(row.Cuota8==row.PredeterminadoCuota8){
                  return '<div class="tdCuota8 bg-success"><span class=" popup-trigger ">PAGADO</span>' + 
               '<div class="popup-content text-secondary">Monto pagado:$' + row.Cuota8 +'</div> </div>';
                }
                if(row.Cuota8<row.PredeterminadoCuota8){
                return '<div class="tdCuota8"><span class="popup-trigger bg-danger">$' + data + '</span>' + 
               '<div class="popup-content text-secondary">Valor a pagar:$' + row.PredeterminadoCuota8 + ', resta por pagar:$'+(row.PredeterminadoCuota8-data)+' </div> </div>';
              } if(row.Cuota8>row.PredeterminadoCuota8){
                return '<div class="tdCuota8"><span class="popup-trigger bg-warning">$' + data + '</span>' + 
               '<div class="popup-content text-secondary">Valor a pagar:$' + row.PredeterminadoCuota8 + ', ha pagado por demas:$'+(data-row.PredeterminadoCuota8)+' </div> </div>'; 
              }
              }else{

                  return '<span class="OcultoCuotas text-muted">$'+row.PredeterminadoCuota8+'</span>';

                }
            }},
            {title:  '<span class="OcultoCuotas">Cuota 9 </span>', "data": "Cuota9" ,"render":function(data,type,row,meta){
              if(row.CantidadCuotas>8){
                if(row.Cuota9==row.PredeterminadoCuota9){
                  return '<div class="tdCuota9 bg-success"><span class=" popup-trigger ">PAGADO</span>' + 
               '<div class="popup-content text-secondary">Monto pagado:$' + row.Cuota9 +'</div> </div>';
                }
                if(row.Cuota9<row.PredeterminadoCuota9){
                return '<div class="tdCuota9"><span class="popup-trigger bg-danger">$' + data + '</span>' + 
               '<div class="popup-content text-secondary">Valor a pagar:$' + row.PredeterminadoCuota9 + ', resta por pagar:$'+(row.PredeterminadoCuota9-data)+' </div> </div>';
              } if(row.Cuota9>row.PredeterminadoCuota9){
                return '<div class="tdCuota9"><span class="popup-trigger bg-warning">$' + data + '</span>' + 
               '<div class="popup-content text-secondary">Valor a pagar:$' + row.PredeterminadoCuota9 + ', ha pagado por demas:$'+(data-row.PredeterminadoCuota9)+' </div> </div>'; 
              }
              }else{

                  return '<span class="OcultoCuotas text-muted">$'+row.PredeterminadoCuota9+'</span>';

              
              }
            },  'createdCell': function (td, cellData, rowData, row, col) {
            // Agregar una clase personalizada a la celda
            $(td).addClass('OcultoCuotas');
            var th = $('#TablaObras').find('th:contains("Cuota 9")');
             th.addClass('OcultoCuotas');
        }
        , "initComplete": function(settings, json) {
        // Seleccionar el encabezado de la columna correspondiente al título
        var th = $('#TablaObras').find('th:contains("Permiso Hidraulica")');
             th.addClass('OcultoCuotas');
    },
          },
            {title:  '<span class="OcultoCuotas">Cuota 10</span>', "data": "Cuota10","render":function(data,type,row,meta){
              if(row.CantidadCuotas>9){
                if(row.Cuota10==row.PredeterminadoCuota10){
                  return '<div class="tdCuota10 bg-success"><span class=" popup-trigger ">PAGADO</span>' + 
               '<div class="popup-content text-secondary">Monto pagado:$' + row.Cuota10 +'</div> </div>';
                }
                if(row.Cuota10<row.PredeterminadoCuota10){
                return '<div class="tdCuota10"><span class="popup-danger bg-danger">$' + data + '</span>' + 
               '<div class="popup-content text-secondary">Valor a pagar:$' + row.PredeterminadoCuota10 + ', resta por pagar:$'+(row.PredeterminadoCuota10-data)+' </div> </div>';
              } if(row.Cuota10>row.PredeterminadoCuota10){
                return '<div class="tdCuota10"><span class="popup-trigger bg-warning">$' + data + '</span>' + 
               '<div class="popup-content text-secondary">Valor a pagar:$' + row.PredeterminadoCuota10 + ', ha pagado por demas:$'+(data-row.PredeterminadoCuota10)+' </div> </div>'; 
              }
              }else{

                  return '<span class="OcultoCuotas text-muted">$'+row.PredeterminadoCuota10+'</span>';


              }
              
            } , 'createdCell': function (td, cellData, rowData, row, col) {
            // Agregar una clase personalizada a la celda
            $(td).addClass('OcultoCuotas');
            var th = $('#TablaObras').find('th:contains("Cuota 10")');
             th.addClass('OcultoCuotas');
        }, },
            {title:  '<span class="OcultoCuotas">Cuota 11</span>', "data": "Cuota11","render":function(data,type,row,meta){
              if(row.CantidadCuotas>10){
                if(row.Cuota11==row.PredeterminadoCuota11){
                  return '<div class="tdCuota11 bg-success"><span class=" popup-trigger ">PAGADO</span>' + 
               '<div class="popup-content text-secondary">Monto pagado:$' + row.Cuota11 +'</div> </div>';
                }
                if(row.Cuota11<row.PredeterminadoCuota11){
                return '<div class="tdCuota11"><span class="popup-danger bg-danger">$' + data + '</span>' + 
               '<div class="popup-content text-secondary">Valor a pagar:$' + row.PredeterminadoCuota11 + ', resta por pagar:$'+(row.PredeterminadoCuota11-data)+' </div> </div>';
              } if(row.Cuota11>row.PredeterminadoCuota11){
                return '<div class="tdCuota11"><span class="popup-trigger bg-warning">$' + data + '</span>' + 
               '<div class="popup-content text-secondary">Valor a pagar:$' + row.PredeterminadoCuota11 + ', ha pagado por demas:$'+(data-row.PredeterminadoCuota11)+' </div> </div>'; 
              }
              }else{

                  return '<span class="OcultoCuotas text-muted">$'+row.PredeterminadoCuota11+'</span>';


              }

            },  'createdCell': function (td, cellData, rowData, row, col) {
            // Agregar una clase personalizada a la celda
            $(td).addClass('OcultoCuotas');
            
        }, "initComplete": function(settings, json) {
        // Seleccionar el encabezado de la columna correspondiente al título
        var th = $('#TablaObras').find('th:contains("Permiso Hidraulica")');
             th.addClass('OcultoPermisos');
    },},
            {title:  '<span class="OcultoCuotas">Cuota 12</span>', "data": "Cuota12","render":function(data,type,row,meta){
              if(row.CantidadCuotas>11){
                if(row.Cuota12==row.PredeterminadoCuota12){
                  return '<div class="tdCuota12 bg-success"><span class=" popup-trigger ">PAGADO</span>' + 
               '<div class="popup-content text-secondary">Monto pagado:$' + row.Cuota12 +'</div> </div>';
                }
                if(row.Cuota12<row.PredeterminadoCuota12){
                return '<div class="tdCuota12"><span class="popup-danger bg-danger">$' + data + '</span>' + 
               '<div class="popup-content text-secondary">Valor a pagar:$' + row.PredeterminadoCuota12 + ', resta por pagar:$'+(row.PredeterminadoCuota12-data)+' </div> </div>';
              } if(row.Cuota12>row.PredeterminadoCuota12){
                return '<div class="tdCuota12"><span class="popup-trigger bg-warning">$' + data + '</span>' + 
               '<div class="popup-content text-secondary">Valor a pagar:$' + row.PredeterminadoCuota12 + ', ha pagado por demas:$'+(data-row.PredeterminadoCuota12)+' </div> </div>'; 
              }
              }else{

                  return '<span class="OcultoCuotas text-muted">$'+row.PredeterminadoCuota12+'</span>';


              }
            },  'createdCell': function (td, cellData, rowData, row, col) {
            // Agregar una clase personalizada a la celda
            $(td).addClass('OcultoCuotas');
           
        },"initComplete": function(settings, json) {
        // Seleccionar el encabezado de la columna correspondiente al título
        var th = $('#TablaObras').find('th:contains("Permiso Hidraulica")');
             th.addClass('OcultoPermisos');
    }, },
            { title:  '<span class="OcultoPermisos">Permiso DNV</span>',"data": "PredeterminadoDNV" ,"render": function(data,type,row,meta){
              if(row.PredeterminadoDNV==0 || row.PredeterminadoDNV=="0"){
                return '<span class="OcultoPermisos text-muted">$'+row.PredeterminadoDNV+'</span>';
              }else{
                if(row.DPV==row.PredeterminadoDNV){
                  return '<div class="tdDNV bg-success"><span class=" popup-trigger ">PAGADO</span>' + 
               '<div class="popup-content text-secondary">Monto pagado:$' + row.DNV +'</div> </div>';
                }
                if(row.DNV<row.PredeterminadoDNV){
                return '<div class="tdDNV"><span class="popup-trigger bg-danger">$' + data + '</span>' + 
               '<div class="popup-content text-secondary">Valor a pagar:$' + row.PredeterminadoDNV + ', resta por pagar:$'+(row.PredeterminadoDNV-data)+' </div> </div>';
              } if(row.DNV>row.PredeterminadoDNV){
                return '<div class="tdDNV"><span class="popup-trigger bg-warning">$' + data + '</span>' + 
               '<div class="popup-content text-secondary">Valor a pagar:$' + row.PredeterminadoDNV + ', ha pagado por demas:$'+(data-row.PredeterminadoDNV)+' </div> </div>'; 
              }
              }
            },  'createdCell': function (td, cellData, rowData, row, col) {
            // Agregar una clase personalizada a la celda
            $(td).addClass('OcultoPermisos ');
           
        },"initComplete": function(settings, json) {
        // Seleccionar el encabezado de la columna correspondiente al título
        var th = $('#TablaObras').find('th:contains("Permiso Hidraulica")');
             th.addClass('OcultoPermisos');
    }, },
            {title:  '<span class="OcultoPermisos">Permiso DPV</span>', "data": "PredeterminadoDPV" ,"render": function(data,type,row,meta){
              if(row.PredeterminadoDPV==0 || row.PredeterminadoDPV=="0"){
                return '<span class="OcultoPermisos text-muted">$'+row.PredeterminadoDPV+'</span>';
              }

              else{
                if(row.DPV==row.PredeterminadoDPV){
                  return '<div class="tdDPV bg-success"><span class=" popup-trigger ">PAGADO</span>' + 
               '<div class="popup-content text-secondary">Monto pagado:$' + row.DPV +'</div> </div>';
                }
                if(row.DPV<row.PredeterminadoDPV){
                return '<div class="tdDPV"><span class="popup-trigger bg-danger">$' + data + '</span>' + 
               '<div class="popup-content text-secondary">Valor a pagar:$' + row.PredeterminadoDPV + ', resta por pagar:$'+(row.PredeterminadoDPV-data)+' </div> </div>';
              } if(row.DPV>row.PredeterminadoDPV){
                return '<div class="tdDPV"><span class="popup-trigger bg-warning">$' + data + '</span>' + 
               '<div class="popup-content text-secondary">Valor a pagar:$' + row.PredeterminadoDPV + ', ha pagado por demas:$'+(data-row.PredeterminadoDPV)+' </div> </div>'; 
              }
            }
            }, 'createdCell': function (td, cellData, rowData, row, col) {
            // Agregar una clase personalizada a la celda
            $(td).addClass('OcultoPermisos ');
            
        }, "initComplete": function(settings, json) {
        // Seleccionar el encabezado de la columna correspondiente al título
        var th = $('#TablaObras').find('th:contains("Permiso Hidraulica")');
             th.addClass('OcultoPermisos');
    },
      },
            {title:  '<span class="OcultoPermisos">Permiso Hidraulica</span>', "data": "PredeterminadoHidraulica" ,"render": function(data,type,row,meta){
              if(row.PredeterminadoHidraulica==0 || row.PredeterminadoHidraulica=="0"){
                return '<span class="OcultoPermisos text-muted">$'+row.PredeterminadoHidraulica+'</span>';
              }

              else{
                if(row.Hidraulica==row.PredeterminadoHidraulica){
                  return '<div class="tdHidraulica bg-success"><span class="popup-trigger ">PAGADO </span>' + 
               '<div class="popup-content text-secondary">Monto pagado:$' + row.Hidraulica +'</div> </div>';
                }
                if(row.Hidraulica<row.PredeterminadoHidraulica){
                return '<div class="tdHidraulica"><span class="popup-trigger danger-danger">$' + data + '</span>' + 
               '<div class="popup-content text-secondary">Valor a pagar:$' + row.PredeterminadoHidraulica + ', resta por pagar:$'+(row.PredeterminadoHidraulica-data)+' </div> </div>';
              } if(row.Hidraulica>row.PredeterminadoHidraulica){
                return '<div class="tdHidraulica"><span class="popup-trigger bg-warning">$' + data + '</span>' + 
               '<div class="popup-content text-secondary">Valor a pagar:$' + row.PredeterminadoHidraulica + ', ha pagado por demas:$'+(data-row.PredeterminadoHidraulica)+' </div> </div>'; 
              }
              }
            } ,'createdCell': function (td, cellData, rowData, row, col) {
            // Agregar una clase personalizada a la celda
            $(td).addClass('OcultoPermisos ');
          
             
        },"initComplete": function(settings, json) {
        // Seleccionar el encabezado de la columna correspondiente al título
        var th = $('#TablaObras').find('th:contains("Permiso Hidraulica")');
             th.addClass('OcultoPermisos');
    },
   },
            { title:  '<span class="OcultoPermisos">Permiso FFCC</span>',"data": "PredeterminadoFFCC" ,"render": function(data,type,row,meta){
              if(row.PredeterminadoFFCC==0 || row.PredeterminadoFFCC=="0"){
                
                return '<span class="OcultoPermisos text-muted">$'+row.PredeterminadoFFCC+'</span>';
              }
              else{
                if(row.FFCC==row.PredeterminadoFFCC){
                  return '<div class="tdFFCC bg-success"><span class=" popup-trigger ">PAGADO</span>' + 
               '<div class="popup-content text-secondary">Monto pagado:$' + row.FFCC +'</div> </div>';
                }
                if(row.FFCC<row.PredeterminadoFFCC){
                return '<div class="tdFFCC"><span class="popup-trigger bg-danger">$' + data + '</span>' + 
               '<div class="popup-content text-secondary">Valor a pagar:$' + row.PredeterminadoFFCC + ', resta por pagar:$'+(row.PredeterminadoFFCC-data)+' </div> </div>';
              } if(row.FFCC>row.PredeterminadoFFCC){
                return '<div class="tdFFCC"><span class="popup-trigger bg-warning">$' + data + '</span>' + 
               '<div class="popup-content text-secondary">Valor a pagar:$' + row.PredeterminadoFFCC + ', ha pagado por demas:$'+(data-row.PredeterminadoFFCC)+' </div> </div>'; 
              }
              }
            },'createdCell': function (td, cellData, rowData, row, col) {
            // Agregar una clase personalizada a la celda
            $(td).addClass('OcultoPermisos ');
            
        },  },
            { title:  '<span class="OcultoPermisos">Permiso Privado</span>',"data": "PredeterminadoPrivado" ,"render": function(data,type,row,meta){
              if(row.PredeterminadoPrivado==0 || row.PredeterminadoPrivado=="0"){
                
                return '<span class="OcultoPermisos text-muted">$'+row.PredeterminadoPrivado+'</span>';
              }
              else{
                if(row.Privado==row.PredeterminadoPrivado){
                  return '<div class="tdMunicipal"><span class="popup-trigger bg-success text-success">$' + data + '</span>' + 
               '<div class="popup-content text-secondary">Monto pagado:$' + row.Privado +'</div> </div>';
                }
                if(row.Privado<row.PredeterminadoPrivado){
                return '<div class="tdMunicipal"><span class="popup-trigger danger-danger">$' + data + '</span>' + 
               '<div class="popup-content text-secondary">Valor a pagar:$' + row.PredeterminadoPrivado + ', resta por pagar:$'+(row.PredeterminadoPrivado-data)+' </div> </div>';
              } if(row.Privado>row.PredeterminadoPrivado){
                return '<div class="tdMunicipal"><span class="popup-trigger bg-warning">$' + data + '</span>' + 
               '<div class="popup-content text-secondary">Valor a pagar:$' + row.PredeterminadoPrivado + ', ha pagado por demas:$'+(data-row.PredeterminadoPrivado)+' </div> </div>'; 
              }
              }
            },'createdCell': function (td, cellData, rowData, row, col) {
            // Agregar una clase personalizada a la celda
            $(td).addClass('OcultoPermisos ');
        }, },
            {title:  '<span class="OcultoPermisos">Permiso Municipal</span>', "data": "PredeterminadoMunicipal" ,"render": function(data,type,row,meta){
              if(row.PredeterminadoMunicipal==0 || row.PredeterminadoMunicipal=="0"){
                
                return '<span class="OcultoPermisos text-muted">$'+row.PredeterminadoMunicipal+'</span>';
              }
              else{
                if(row.Municipal==row.PredeterminadoMunicipal){
                  return '<div class="tdMunicipal"><span class="popup-trigger bg-success text-success">$' + data + '</span>' + 
               '<div class="popup-content text-secondary">Valor a pagar:$' + row.PredeterminadoMunicipal +'</div> </div>';
                }
                if(row.Municipal<row.PredeterminadoMunicipal){
                return '<div class="tdMunicipal"><span class="popup-trigger danger-danger">$' + data + '</span>' + 
               '<div class="popup-content text-secondary">Valor a pagar:$' + row.PredeterminadoMunicipal + ', resta por pagar:$'+(row.PredeterminadoMunicipal-data)+' </div> </div>';
              } if(row.Municipal>row.PredeterminadoMunicipal){
                return '<div class="tdMunicipal"><span class="popup-trigger bg-warning">$' + data + '</span>' + 
               '<div class="popup-content text-secondary">Valor a pagar:$' + row.PredeterminadoMunicipal + ', ha pagado por demas:$'+(data-row.PredeterminadoMunicipal)+' </div> </div>'; 
              }
              }
            } ,'createdCell': function (td, cellData, rowData, row, col) {
            // Agregar una clase personalizada a la celda
            $(td).addClass('OcultoPermisos ');
        },},
  
            {title:  '<span class="OcultoPermisos">Gastos asociados aforos</span>', "data": "PredeterminadoIngresoDocumentacion" ,"render": function(data,type,row,meta){
              if(row.PredeterminadoIngresoDocumentacion==0 || row.PredeterminadoIngresoDocumentacion=="0"){
                
                return '<span class="OcultoPermisos text-muted">$'+row.PredeterminadoIngresoDocumentacion+'</span>';
              }
              else{
                if(row.IngresoDocumentacion==row.PredeterminadoIngresoDocumentacion){
                  return '<div class="tdIngresoDocumentacion"><span class="popup-trigger bg-success">$' + data + '</span>' + 
               '<div class="popup-content text-secondary">Valor a pagar:$' + row.PredeterminadoIngresoDocumentacion +'</div> </div>';
                }
                if(row.IngresoDocumentacion<row.PredeterminadoIngresoDocumentacion){
                return '<div class="tdIngresoDocumentacion"><span class="popup-trigger bg-danger">$' + data + '</span>' + 
               '<div class="popup-content text-secondary">Valor a pagar:$' + row.PredeterminadoIngresoDocumentacion + ', resta por pagar:$'+(row.PredeterminadoIngresoDocumentacion-data)+' </div> </div>';
              } if(row.IngresoDocumentacion>row.PredeterminadoIngresoDocumentacion){
                return '<div class="tdIngresoDocumentacion"><span class="popup-trigger bg-warning">$' + data + '</span>' + 
               '<div class="popup-content text-secondary">Valor a pagar:$' + row.PredeterminadoIngresoDocumentacion + ', ha pagado por demas:$'+(data-row.PredeterminadoIngresoDocumentacion)+' </div> </div>'; 
              }
              }
            },'createdCell': function (td, cellData, rowData, row, col) {
            // Agregar una clase personalizada a la celda
            $(td).addClass('OcultoPermisos ');
        }, },
            {title:  '<span class="OcultoPermisos">Permiso Irrigación</span>', "data": "PredeterminadoIrrigacion" ,"render": function(data,type,row,meta){
              if(row.PredeterminadoIrrigacion==0 || row.PredeterminadoIrrigacion=="0"){
                
                return '<span class="OcultoPermisos text-muted">$'+row.PredeterminadoIrrigacion+'</span>';
              }
              else{
                if(row.Irrigacion==row.PredeterminadoIrrigacion){
                  return '<div class="tdIrrigacion bg-success"><span class="popup-trigger ">PAGADO </span>' + 
               '<div class="popup-content text-secondary">Valor a pagar:$' + row.PredeterminadoIrrigacion +'</div> </div>';
                }
                if(row.Irrigacion<row.PredeterminadoIrrigacion){
                return '<div class="tdIrrigacion"><span class="popup-trigger danger-danger">$' + data + '</span>' + 
               '<div class="popup-content text-secondary">Valor a pagar:$' + row.PredeterminadoIrrigacion + ', resta por pagar:$'+(row.PredeterminadoIrrigacion-data)+' </div> </div>';
              } if(row.Irrigacion>row.PredeterminadoIrrigacion){
                return '<div class="tdIrrigacion"><span class="popup-trigger bg-warning">$' + data + '</span>' + 
               '<div class="popup-content text-secondary">Valor a pagar:$' + row.PredeterminadoIrrigacion + ', ha pagado por demas:$'+(data-row.PredeterminadoIrrigacion)+' </div> </div>'; 
              }
                }
            },'createdCell': function (td, cellData, rowData, row, col) {
            // Agregar una clase personalizada a la celda
            $(td).addClass('OcultoPermisos');
        }, },
            
        ],

    });
  
  })
 $('#btnVerPermisos').click(()=>{
    
    $('.OcultoPermisos').toggle()  
 })
 $('#btnVerCuotas').click(()=>{
    
    $('.OcultoCuotas').toggle();
      
   })
</script>
</html>
<style>
  .popup-content{
   display: none;
   position: absolute;
   background-color: white;
   border: 1px solid #ccc;
   padding: 10px;
   z-index: 1000;
    }
  </style>