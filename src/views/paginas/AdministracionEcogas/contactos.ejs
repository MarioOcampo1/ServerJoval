<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Boostrap 5-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
      crossorigin="anonymous"></script>
      <script type="text/javascript" language="javascript" src="https://code.jquery.com/jquery-3.5.1.js"></script>
      <script type="text/javascript" language="javascript"
          src="https://cdn.datatables.net/1.10.22/js/jquery.dataTables.min.js"></script>
      <script type="text/javascript" language="javascript"
          src="https://cdn.datatables.net/1.10.22/js/dataTables.bootstrap5.min.js"></script>
    <title>Contactos</title>
</head>
<body>    
  <%- include('./partials/menusuperior.ejs')%>
  <h1 class="text-center">Contactos</h1>
  <div class="btn-group border-bottom">

  <a href="/adminecogas">
        <button class="btn btn-danger" onClick="history.go(-1);">Volver</button>
      </a>
      <a href="/nuevocontacto">
        <button class="btn btn-success">Nuevo Contacto</button>
      </a>
    </div>
  <br/>
  <div class="table-responsive">
<label for="buscador">Buscar:</label> <input type="text" id="buscador" value=""/>

    <table id="Contactos" class="table table-striped table-bordered table-sm table-hover " style="width: 100%">
        <thead>
            <tr>
                <th>
                    <h4>Nombre</h4>
                </th>
                <th>
                    <h4>Entidad</h4>
                </th>
                <th>
                    <h4>Area</h4>
                </th>
                <th>
                    <h4>Puesto</h4>
                </th>
                <th>
                    <h4>Tel√©fono</h4>
                </th>
                <th>
                    <h4>Correo</h4>
                </th>
              </tr>
        </thead>
        <tbody>
            <% results.forEach((contactos)=>{ %>
                <tr>
                   <td>
                        <%= contactos.Nombre %>
                    </td>
                    <td>
                        <%=contactos.Entidad%>
                    </td>
                    <td>
                        <%=contactos.Area%>
                    </td>
                    
                    <td>
                        <%=contactos.Puesto%>
                    </td>
                    <td>
                      <%=contactos.Telefono%>
                    </td>
                    <td>
                        <%=contactos.Correo%>
                      </td>
                    <td><a href="/editarContacto/<%= contactos.id%>" class="btn btn-outline-info">editar</a>
                    </tr></td>
                <% })%>
        </tbody>
  
  
  
    </table>
  </div>
  </body>
  <script>
    jQuery("#buscador").keyup(function(){
    if( jQuery(this).val() != "0"){
        jQuery("#Contactos tbody>tr").hide();
        jQuery("#Contactos td:contiene-palabra('" + jQuery(this).val() + "')").parent("tr").show();
    }
    else{
        jQuery("#Contactos tbody>tr").show();
        jQuery("#Contactos tbody>td").show();

    }
});

jQuery.extend(jQuery.expr[":"], 
{
    "contiene-palabra": function(elem, i, match, array) {
        return (elem.textContent || elem.innerText || jQuery(elem).text() || "").toLowerCase().indexOf((match[3] || "").toLowerCase()) >= 0;
    }
});
</script>

</html>